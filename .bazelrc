common --noenable_bzlmod

# https://github.com/aspect-build/gcc-toolchain/issues/161
build --noincompatible_sandbox_hermetic_tmp

# XXX: Should uncomment this
# https://github.com/aspect-build/gcc-toolchain/issues/85
# build --incompatible_enable_cc_toolchain_resolution
# build --action_env=BAZEL_DO_NOT_DETECT_CPP_TOOLCHAIN=1
# Performance per #85
build --experimental_reuse_sandbox_directories

# Prevent python use of ~/.local/lib
build --action_env=PYTHONNOUSERSITE=1
build --test_env=PYTHONNOUSERSITE=1


# C Compiler Options

# All Warnings
build --copt -Wall

# Warnings are errors
build --copt -Werror

# Choose your Vehicle ... Hydro Thunder
# XXX: Update to 21?
# XXX: Not working
# build --cxxopt='-std=c++17'
# build --action_env=BAZEL_CXXOPTS=-std=c++17
